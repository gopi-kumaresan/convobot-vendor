{"version":3,"file":"primeng-lts-focustrap.umd.js","sources":["primeng-lts/focustrap/focustrap.ts"],"names":["DomHandler","ElementRef","Input","HostListener","Directive","NgModule","CommonModule"],"mappings":";;;;;;;;;;;;AAAA;AAAkD,QAW9C,mBAAmB,EAAc;AACrC,YADuB,OAAE,GAAF,EAAE,CAAY;AAAE,SAAE;AAEzC,QAEI,6BAAS,GAAT,UAAU,CAAC;AACd,YAAO,IAAI,IAAI,CAAC,kBAAkB,KAAK,IAAI,EAAE;AAC7C,gBAAW,CAAC,CAAC,cAAc,EAAE,CAAC;AAC9B,gBAAW,IAAI,iBAAiB,GAAGA,cAAU,CAAC,oBAAoB,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,CAAC;AAC1F,gBAAW,IAAI,iBAAiB,IAAI,iBAAiB,CAAC,MAAM,GAAG,CAAC,EAAE;AAClE,oBAAe,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAE;AAC5C,wBAAmB,iBAAiB,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;AAChD,qBAAgB;AAChB,yBAAoB;AACpB,wBAAmB,IAAI,YAAY,GAAG,iBAAiB,CAAC,OAAO,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;AAEzF,wBAAoB,IAAI,CAAC,CAAC,QAAQ,EAAE;AACnC,4BAAuB,IAAI,YAAY,IAAI,CAAC,CAAC,IAAI,YAAY,KAAK,CAAC;AACnE,gCAA2B,iBAAiB,CAAC,iBAAiB,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;AACnF;AACK,gCAAsB,iBAAiB,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;AACvE,yBAAoB;AACpB,6BAAwB;AACxB,4BAAuB,IAAI,YAAY,IAAI,CAAC,CAAC,IAAI,YAAY,MAAM,iBAAiB,CAAC,MAAM,GAAG,CAAC,CAAC;AAChG,gCAA2B,iBAAiB,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;AACxD;AACK,gCAAsB,iBAAiB,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;AACvE,yBAAoB;AACpB,qBAAgB;AAChB,iBAAY;AACZ,aAAQ;AACR,SAAI;AAEL;AAGiB,oBAnCUC,eAAU;AAAI;AAE5B,QAJA;AAAc,YAAtBC,UAAK,EAAE;AAAE,6DAA2B;AAExC,QAIG;AAAc,YAFbC,iBAAY,CAAC,aAAa,EAAE,CAAC,QAAQ,CAAC,CAAC;AAC1C,YAAGA,iBAAY,CAAC,mBAAmB,EAAE,CAAC,QAAQ,CAAC,CAAC;AACjD,kDA0BI;SAlCQ,SAAS,6BAHrBC,cAAS,CAAC,mBACP,QAAQ,EAAE,cAAc,gBAC3B,CAAC;SACW,SAAS,CAmCrB;;;;;;;;;;;;;;;;oBACD;AACC,QAFD,gBAAC;AAEA,KArCD,IAmCC;AAED;AAEe,QAGf;AAA8B,SAAE;SAAnB,eAAe,6BAL3BC,aAAQ,CAAC;WACN,OAAO,EAAE,CAACC,mBAAY,CAAC,mBACvB,OAAO,EAAE,CAAC,SAAS,CAAC,mBACpB,YAAY,EAAE,CAAC,SAAS,CAAC,eAC5B,CAAC,aACW,eAAe,CAAI;;;;;;;;;gDAAC;AAAE,QAAJ,sBAAC;AAAG,KAAnC;AAAM;AAAE;AAAoC;AAAgD;AAAE;AAAoE;AAAE;AAAO","sourcesContent":["import {NgModule,Directive,ElementRef,HostListener, Input} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {DomHandler} from 'primeng-lts/dom';\n\n@Directive({\n    selector: '[pFocusTrap]',\n})\nexport class FocusTrap {\n\n    @Input() pFocusTrapDisabled: boolean;\n\n    constructor(public el: ElementRef) {}\n\n    @HostListener('keydown.tab', ['$event'])\n    @HostListener('keydown.shift.tab', ['$event'])\n    onkeydown(e) {\n        if (this.pFocusTrapDisabled !== true) {\n            e.preventDefault();\n            let focusableElements = DomHandler.getFocusableElements(this.el.nativeElement);\n            if (focusableElements && focusableElements.length > 0) {\n                if (!document.activeElement) {\n                    focusableElements[0].focus();\n                }\n                else {\n                    let focusedIndex = focusableElements.indexOf(document.activeElement);\n\n                    if (e.shiftKey) {\n                        if (focusedIndex == -1 || focusedIndex === 0)\n                            focusableElements[focusableElements.length - 1].focus();\n                        else\n                            focusableElements[focusedIndex - 1].focus();\n                    }\n                    else {\n                        if (focusedIndex == -1 || focusedIndex === (focusableElements.length - 1))\n                            focusableElements[0].focus();\n                        else\n                            focusableElements[focusedIndex + 1].focus();\n                    }\n                }\n            }\n        }\n    }\n}\n\n@NgModule({\n    imports: [CommonModule],\n    exports: [FocusTrap],\n    declarations: [FocusTrap]\n})\nexport class FocusTrapModule { }"]}