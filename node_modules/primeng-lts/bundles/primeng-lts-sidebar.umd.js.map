{"version":3,"file":"primeng-lts-sidebar.umd.js","sources":["primeng-lts/sidebar/sidebar.ts"],"names":["EventEmitter","DomHandler","ElementRef","Renderer2","Input","ViewChild","Output","Component","trigger","state","style","transition","animate","ChangeDetectionStrategy","NgModule","CommonModule"],"mappings":"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","sourcesContent":["import {NgModule,Component,AfterViewInit,AfterViewChecked,OnDestroy,Input,Output,EventEmitter,ViewChild,ElementRef,Renderer2,ChangeDetectionStrategy} from '@angular/core';\nimport {trigger, state, style, transition, animate} from '@angular/animations';\nimport {CommonModule} from '@angular/common';\nimport {DomHandler} from 'primeng-lts/dom';\n\n@Component({\n    selector: 'p-sidebar',\n    template: `\n        <div #container [ngClass]=\"{'ui-sidebar ui-widget ui-widget-content ui-shadow':true, 'ui-sidebar-active': visible, \n            'ui-sidebar-left': (position === 'left'), 'ui-sidebar-right': (position === 'right'),\n            'ui-sidebar-top': (position === 'top'), 'ui-sidebar-bottom': (position === 'bottom'), \n            'ui-sidebar-full': fullScreen}\"\n            [@panelState]=\"visible ? 'visible' : 'hidden'\" (@panelState.start)=\"onAnimationStart($event)\" [ngStyle]=\"style\" [class]=\"styleClass\"  role=\"complementary\" [attr.aria-modal]=\"modal\">\n            <a [ngClass]=\"{'ui-sidebar-close ui-corner-all':true}\" *ngIf=\"showCloseIcon\" tabindex=\"0\" role=\"button\" (click)=\"close($event)\" (keydown.enter)=\"close($event)\" [attr.aria-label]=\"ariaCloseLabel\">\n                <span class=\"pi pi-times\"></span>\n            </a>\n            <ng-content></ng-content>\n        </div>\n    `,\n    animations: [\n        trigger('panelState', [\n            state('hidden', style({\n                opacity: 0\n            })),\n            state('visible', style({\n                opacity: 1\n            })),\n            transition('visible => hidden', animate('300ms ease-in')),\n            transition('hidden => visible', animate('300ms ease-out'))\n        ])\n    ],\n    changeDetection: ChangeDetectionStrategy.Default\n})\nexport class Sidebar implements AfterViewInit, AfterViewChecked, OnDestroy {\n\n    @Input() position: string = 'left';\n\n    @Input() fullScreen: boolean;\n\n    @Input() appendTo: any;\n\n    @Input() blockScroll: boolean = false;\n\n    @Input() style: any;\n\n    @Input() styleClass: string;\n\n    @Input() ariaCloseLabel: string;\n\n    @Input() autoZIndex: boolean = true;\n\n    @Input() baseZIndex: number = 0;\n\n    @Input() modal: boolean = true;\n\n    @Input() dismissible: boolean = true;\n\n    @Input() showCloseIcon: boolean = true;\n\n    @Input() closeOnEscape: boolean = true;\n\n    @ViewChild('container') containerViewChild: ElementRef;\n\n    @Output() onShow: EventEmitter<any> = new EventEmitter();\n\n    @Output() onHide: EventEmitter<any> = new EventEmitter();\n\n    @Output() visibleChange:EventEmitter<any> = new EventEmitter();\n\n    initialized: boolean;\n\n    _visible: boolean;\n\n    preventVisibleChangePropagation: boolean;\n\n    mask: HTMLDivElement;\n\n    maskClickListener: Function;\n\n    documentEscapeListener: Function;\n\n    executePostDisplayActions: boolean;\n\n    constructor(public el: ElementRef, public renderer: Renderer2) {}\n\n    ngAfterViewInit() {\n        this.initialized = true;\n\n        if (this.appendTo) {\n            if (this.appendTo === 'body')\n                document.body.appendChild(this.containerViewChild.nativeElement);\n            else\n                DomHandler.appendChild(this.containerViewChild.nativeElement, this.appendTo);\n        }\n\n        if (this.visible) {\n            this.show();\n        }\n    }\n\n    @Input() get visible(): boolean {\n        return this._visible;\n    }\n\n    set visible(val:boolean) {\n        this._visible = val;\n\n        if (this.initialized && this.containerViewChild && this.containerViewChild.nativeElement) {\n            if (this._visible)\n                this.show();\n            else {\n                if (this.preventVisibleChangePropagation)\n                    this.preventVisibleChangePropagation = false;\n                else\n                    this.hide();\n            }\n        }\n    }\n\n    ngAfterViewChecked() {\n        if (this.executePostDisplayActions) {\n            this.onShow.emit({});\n            this.executePostDisplayActions = false;\n        }\n    }\n\n    show() {\n        this.executePostDisplayActions = true;\n        if (this.autoZIndex) {\n            this.containerViewChild.nativeElement.style.zIndex = String(this.baseZIndex + (++DomHandler.zindex));\n        }\n\n        if (this.modal) {\n            this.enableModality();\n        }\n    }\n\n    hide() {\n        this.onHide.emit({});\n\n        if (this.modal) {\n            this.disableModality();\n        }\n    }\n\n    close(event: Event) {\n        this.preventVisibleChangePropagation = true;\n        this.hide();\n        this.visibleChange.emit(false);\n        event.preventDefault();\n    }\n\n    enableModality() {\n        if (!this.mask) {\n            this.mask = document.createElement('div');\n            this.mask.style.zIndex = String(parseInt(this.containerViewChild.nativeElement.style.zIndex) - 1);\n            DomHandler.addMultipleClasses(this.mask, 'ui-widget-overlay ui-sidebar-mask');\n            \n            if (this.dismissible){\n                this.maskClickListener = this.renderer.listen(this.mask, 'click', (event: any) => {\n                    if (this.dismissible) {\n                        this.close(event);\n                    }\n                });\n            }\n\n            document.body.appendChild(this.mask);\n            if (this.blockScroll) {\n                DomHandler.addClass(document.body, 'ui-overflow-hidden');\n            }\n        }\n    }\n\n    disableModality() {\n        if (this.mask) {\n            this.unbindMaskClickListener();\n            document.body.removeChild(this.mask);\n            if (this.blockScroll) {\n                DomHandler.removeClass(document.body, 'ui-overflow-hidden');\n            }\n            this.mask = null;\n        }\n    }\n\n    onAnimationStart(event){\n        switch(event.toState) {\n            case 'visible':\n                if (this.closeOnEscape) {\n                    this.bindDocumentEscapeListener();\n                }\n            break;\n            \n            case 'hidden':\n                this.unbindGlobalListeners();\n            break;\n        }\n    }\n\n    bindDocumentEscapeListener() {\n        this.documentEscapeListener = this.renderer.listen('document', 'keydown', (event) => {\n            if (event.which == 27) {\n                if (parseInt(this.containerViewChild.nativeElement.style.zIndex) === (DomHandler.zindex + this.baseZIndex)) {\n                    this.close(event);\n                }\n            }\n        });\n    }\n\n    unbindDocumentEscapeListener() {\n        if (this.documentEscapeListener) {\n            this.documentEscapeListener();\n            this.documentEscapeListener = null;\n        }\n    }\n\n    unbindMaskClickListener() {\n        if (this.maskClickListener) {\n            this.maskClickListener();\n            this.maskClickListener = null;\n        }\n    }\n\n    unbindGlobalListeners() {\n        this.unbindMaskClickListener();\n        this.unbindDocumentEscapeListener();\n    }\n\n    ngOnDestroy() {\n        this.initialized = false;\n\n        if (this.visible) {\n            this.hide();\n        }\n\n        if (this.appendTo) {\n            this.el.nativeElement.appendChild(this.containerViewChild.nativeElement);\n        }\n\n\t\tthis.unbindGlobalListeners();\n    }\n}\n\n@NgModule({\n    imports: [CommonModule],\n    exports: [Sidebar],\n    declarations: [Sidebar]\n})\nexport class SidebarModule { }\n"]}